import { GroupBox } from "std-widgets.slint";

import { Style } from "style.slint";
import { ChangeTypeUtils, ChangeType, OverallDiffStats } from "globals.slint";

export component OverallStatistics inherits GroupBox {
    title: "Statistics";

    HorizontalLayout {
        height: 50px;

        for data in OverallDiffStats.model: VerticalLayout {
            width: 40px;
            Image {
                source: ChangeTypeUtils.to_icon(data.change_type);
            }

            Text {
                text: "\{data.count}";
                horizontal-alignment: center;
            }
        }
        VerticalLayout {
            width: 40px;
            Image {
                source: @image-url("../assets/icons/add.svg");
                colorize: #5e8262;
            }

            Text {
                text: OverallDiffStats.added_lines > 0 ? "\{OverallDiffStats.added_lines}" : "??";
                horizontal-alignment: center;
            }
        }

        VerticalLayout {
            width: 40px;
            Image {
                source: @image-url("../assets/icons/remove.svg");
                colorize: #B06161;
            }

            Text {
                text: OverallDiffStats.removed_lines > 0 ? "\{OverallDiffStats.removed_lines}" : "??";
                horizontal-alignment: center;
            }
        }
    }
}
