import { Button, VerticalBox , HorizontalBox, LineEdit, ListView, CheckBox, GroupBox} from "std-widgets.slint";
import { Style } from "style.slint";
import { NotesView, Notes, NoteItem } from "notes_view.slint";
import { FileDiffView, Diff, DiffFileItem } from "file_diff_view.slint";
import { DiffConfigView, Repository} from "diff_config_view.slint";

export { Notes, NoteItem, Diff, DiffFileItem, Repository }

export global Project {
    in property <string> path;
    out property <bool> isLoaded: path != "";
    callback open;
    callback new;
    callback save;
}

export component AppWindow inherits Window {
    width: 700px;
    height: 600px;
    title: Project.path;

    VerticalLayout {
        alignment: start;

        HorizontalLayout {
            alignment: start;
            spacing: 1px;

            Button {
                text: "New";
            }
            Button {
                text: "Open";
                clicked => { Project.open() }
            }
            if Project.isLoaded: Button {
                text: "Save";
            }
        }
        VerticalBox {
            alignment: start;

            if Project.isLoaded: DiffConfigView {}
            if Repository.isLoaded: FileDiffView {}
            if Repository.isLoaded: NotesView {}
        }
    }
}
